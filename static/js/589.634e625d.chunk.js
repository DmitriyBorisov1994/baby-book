"use strict";(self.webpackChunkbaby_book=self.webpackChunkbaby_book||[]).push([[589],{8273:function(e,t,n){var r=n(1413),i=n(521),a=n(8105),s=n(5642),l=n(9389),o=n(1666),d=n(3707),c=n(7943),m=n(3344),u=n(2622),h=n(9286),x=(n(2791),n(438)),Z=n.n(x),j=n(3329),p=i.Z.Title;t.Z=function(e){var t=e.onFinish,n=e.note,i=e.todos,x=e.activities,f=e.cardActions,v=e.cardTitle,y=e.submitBtnText;return(0,j.jsx)(a.Z,{hoverable:!0,bordered:!1,style:{width:"100%"},actions:f,title:v,children:(0,j.jsxs)(s.Z,{onFinish:t,initialValues:n?(0,r.Z)((0,r.Z)({},n),{},{date:Z()(n.noteDateString,"DD/MM/YYYY"),todos:null===i||void 0===i?void 0:i.map((function(e){return e})),activities:null===x||void 0===x?void 0:x.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{endSleep:Z()(e.endSleep,"HH:mm"),eatTime:Z()(e.eatTime,"HH:mm"),startSleep:Z()(e.startSleep,"HH:mm")})}))}):void 0,children:[(0,j.jsx)(s.Z.Item,{name:"title",rules:[{required:!0,message:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,j.jsx)(l.Z,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"})}),(0,j.jsx)(s.Z.Item,{name:"date",rules:[{required:!0,message:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,j.jsx)(o.Z,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u043f\u043e\u0441\u0442\u0430",onChange:function(){},format:"DD/MM/YYYY",style:{width:"100%"}})}),(0,j.jsx)(s.Z.Item,{name:"text",rules:[{required:!0,message:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"}],children:(0,j.jsx)(l.Z.TextArea,{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"})}),(0,j.jsx)(p,{level:4,className:"card-title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0435\u043b:"}),(0,j.jsx)(s.Z.List,{name:"todos",children:function(e,t,n){var i=t.add,a=t.remove,o=n.errors;return(0,j.jsxs)(j.Fragment,{children:[e.map((function(t,n){return(0,j.jsxs)(s.Z.Item,{label:n+1,required:!1,children:[(0,j.jsx)(s.Z.Item,(0,r.Z)((0,r.Z)({},t),{},{name:[t.name,"text"],validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0443 \u0438\u043b\u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"}],noStyle:!0,children:(0,j.jsx)(l.Z,{placeholder:"\u0427\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c",style:{width:"80%"}})})),e.length>=1?(0,j.jsx)(u.Z,{style:{marginLeft:"1rem",fontSize:"1.2rem"},onClick:function(){return a(t.name)}}):null]},t.key)})),(0,j.jsxs)(s.Z.Item,{children:[(0,j.jsx)(d.Z,{type:"dashed",onClick:function(){return i()},style:{width:"60%"},icon:(0,j.jsx)(h.Z,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,j.jsx)(d.Z,{type:"dashed",onClick:function(){i("",0)},style:{width:"80%",marginTop:"20px"},icon:(0,j.jsx)(h.Z,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043d\u0430\u0447\u0430\u043b\u043e \u0441\u043f\u0438\u0441\u043a\u0430"}),(0,j.jsx)(s.Z.ErrorList,{errors:o})]})]})}}),(0,j.jsx)(p,{level:4,className:"card-title",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c:"}),(0,j.jsx)(s.Z.List,{name:"activities",children:function(e,t){var n=t.add,i=t.remove;return(0,j.jsxs)(j.Fragment,{children:[e.map((function(e){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(s.Z.Item,(0,r.Z)((0,r.Z)({},e),{},{label:"\u041f\u0440\u043e\u0441\u043d\u0443\u043b\u0441\u044f",name:[e.name,"endSleep"],children:(0,j.jsx)(c.Z,{format:"HH:mm",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f",showNow:!1,style:{width:"100%"}})})),(0,j.jsx)(s.Z.Item,(0,r.Z)((0,r.Z)({},e),{},{label:"\u041f\u043e\u0435\u043b",name:[e.name,"eatTime"],children:(0,j.jsx)(c.Z,{format:"HH:mm",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f",showNow:!1,style:{width:"100%"}})})),(0,j.jsx)(s.Z.Item,(0,r.Z)((0,r.Z)({},e),{},{label:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0435\u043b",name:[e.name,"eatAmount"],children:(0,j.jsx)(m.Z,{min:0,step:10,style:{width:"100%"}})})),(0,j.jsx)(s.Z.Item,(0,r.Z)((0,r.Z)({},e),{},{label:"\u0423\u0441\u043d\u0443\u043b",name:[e.name,"startSleep"],children:(0,j.jsx)(c.Z,{format:"HH:mm",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f",showNow:!1,style:{width:"100%"}})})),(0,j.jsx)(u.Z,{style:{fontSize:"1.2rem",margin:"0 0 1rem 0"},onClick:function(){return i(e.name)}})]})})),(0,j.jsx)(s.Z.Item,{children:(0,j.jsx)(d.Z,{type:"dashed",onClick:function(){return n()},block:!0,icon:(0,j.jsx)(h.Z,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"})})]})}}),(0,j.jsx)(s.Z.Item,{children:(0,j.jsx)(d.Z,{type:"primary",htmlType:"submit",children:y})})]})})}},6589:function(e,t,n){n.r(t);var r=n(4165),i=n(5861),a=n(9439),s=n(2791),l=n(6106),o=n(914),d=n(8273),c=n(5273),m=n(4740),u=n(6188),h=n(6875),x=n(7833),Z=n(6871),j=n(3329);t.default=function(){var e=(0,m.CG)((function(e){return e.auth.userId})),t=(0,Z.s0)(),n=(0,u.pC)(),p=(0,a.Z)(n,1)[0],f=(0,h.jT)(),v=(0,a.Z)(f,1)[0],y=(0,x.mE)(),b=(0,a.Z)(y,1)[0],w=(0,s.useCallback)(function(){var n=(0,i.Z)((0,r.Z)().mark((function n(i){var a,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=12;break}return a="Note_".concat((0,c.x0)()),s={title:i.title,text:i.text,noteDateString:i.date.format("DD/MM/YYYY"),noteId:a},n.next=5,p({userId:e,newNote:s});case 5:if(!i.todos){n.next=8;break}return n.next=8,Promise.all(i.todos.map((function(t){var n={todoId:"Todo_".concat((0,c.x0)()),noteId:a,text:t};v({userId:e,newTodo:n})})));case 8:if(!i.activities){n.next=11;break}return n.next=11,Promise.all(i.activities.map((function(t){var n={id:"Activity_".concat((0,c.x0)()),noteId:a,eatTime:t.eatTime.format("HH:mm"),endSleep:t.endSleep.format("HH:mm"),startSleep:t.startSleep.format("HH:mm"),eatAmount:t.eatAmount};b({userId:e,newActivity:n})})));case 11:t(-1);case 12:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]);return(0,j.jsx)(l.Z,{justify:"center",align:"middle",className:"mh100 formWrapperPadding",children:(0,j.jsx)(o.Z,{xs:24,md:12,children:(0,j.jsx)(d.Z,{onFinish:w,cardTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043c\u0435\u0442\u043a\u0443",submitBtnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})})}}}]);
//# sourceMappingURL=589.634e625d.chunk.js.map